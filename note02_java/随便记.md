# 随便记

## Java 数组输出三种方式

### 1. 传统方式

```java
for(int i = 0, i < array.length; i++) {
    System.out.println(array[i]);
}
```

### 2. for each 方式

```java
for (int a : array)
    System.out.println(a);
```

### 3. 利用 Arrays 类的 toString() 方法

```java
System.out.println(Array.toString(array));
```

### 4. 直接输出

```java
System.out.println(array);
```

## 键盘数据录入

1. 所需的包  
  `import java.util.Scanner;`
2. 从屏幕输入  
  `Scanner sc = new Scanner(System.in);`  
3. 赋值给变量  
  `int x = sc.nextInt();`  
  `String str = sc.nextLine();`  
4. 用完记得关掉  
  `sc.close();`  

## 二维数组

java 的二维数组与 C 不同，是以链表的形式存储，而 C 是线性存储。  
java 可以支持长度不同的二维数组。

```java
int[][] array = new int[3][];

System.out.println(array);          // [[I@2d8f65a4
System.out.println(array[0]);       // null
System.out.println(array[1]);       // null
System.out.println(array[2]);       // null

array[0] = new int[4];
array[1] = new int[7];
array[2] = new int[2];

System.out.println(array);          // [[I@2d8f65a4
System.out.println(array[0]);       // [I@1b68ddbd
System.out.println(array[1]);       // [I@646d64ab
System.out.println(array[2]);       // [I@59e5ddf

System.out.println(array[0][3]);    // 0
```

## java 参数传递

数组其实相当于指针，用法与 C 类似

## java 第七日

在同一文件夹下，类定义在两个文件内和定义在一个文件内效果是一样的  

禁用默认构造，写一个默认构造函数并定义为 `private`  

### 说明书

1. 写一个工具类
2. 对这个类写文档注释

   ```java
   /** (文档前的注释)
    *  这是xxx的类
    *  @author 长平居士
    *  @version v1.0.0
    */
   ```

   ```java
   /** (方法前的注释)
    *  这是xxx的方法
    *  @param 方法参数说明，每个参数写一个
    *  @return 返回值说明
    */
   ```

3. javadoc 解析文档，参考帮助文件  
   `javadoc -d 目标目录 -author -version xxx.java`

### 代码块 `{}`

1. 局部代码块：局部位置，限定变量生命周期
2. 构造代码块：类中成员位置，用 `{}` 括起来的代码，每次调用构造方法前都会执行。
   作用：可以把构造方法中的公用代码放一起
3. 静态代码块：把 `static` 放在一起，在构造代码块前加 `static`  

顺序：静态代码块（仅第一次） -> 构造代码块 -> 构造函数

### 继承

子类中所有的构造方法默认访问父类空参构造方法，即子类的构造方法第一句都是默认的 `super()` 如果不想用，可以通过 `super` 调用父类的带参构造方法。不过要注意放在第一句。

自父类初始化是分层初始化，先父后子

### 方法重写

略。。。

### 多态

```java
    父类 类名 = new 子类();
//  左边------------右边
```

要求

- 要有继承关系
- 要有方法重写
- 要有父类引用指向子类对象

特点

- 成员变量
  编译看**左**边，运行看**左**边
- 构造方法
  创建子类对象的时候，访问父类的构造方法，对父类的数据进行初始化
- 成员方法
  编译看**左**边，运行看**右**边
- 静态方法
  编译看**左**边，运行看**左**边
  （静态与类相关，此处不算重写）

方法有重写，变量哪来的重写

优点  
添加新的子类后，新子类还能用原来的方法

向上转型和向下转型（对象间的转型问题）

- 向上转型  
  `父类 父类名 = new 子类();`
- 向下转型（强制类型转换）  
  `子类 子类名 = (子类名)父类名; //必须是能转的`

### 抽象类

试用 `abstract` 修饰
类似 C 语言函数声明

```java
abstract class 类名 {
    // 抽象类
    public abstract void 方法名();
    // 抽象方法
}
```

抽象类是给子类用的，他的子类要么**是抽象类**，要么**重写抽象方法**

注意：没有抽象方法也可创建抽象类，可以禁止别人访问这个类，该类必须通过子类调用

`abstract` 不和 `private` `final` `static` 同用，前两个是冲突，后一个无意义

### 接口

- 接口中变量默认常量。默认修饰符 `public static final`
- 接口没有构造方法，所有类默认继承自 `Object` 类
- 接口配抽象方法，默认修饰符 `public abstract`

接口与接口是可以继承，而且是可以**多继承**的

### 形式参数和返回值

1. 基本类型
2. 引用类型
   类：
   抽象类：使用多态，需要子类
   接口：需要该接口的实现类对象

返回值同理

### package 带包的编译和运行

包就是文件夹，编译后将文件放到相应路径下，命名时多级包用 `.` 隔开，运行时在根目录下输入 包名（文件夹名）+类名（文件名）。编译时 `javac -d` 会自动生成包

### import

不要用 `*`

### 内部类

定义在其他类内部的类

1. 内部类可以直接访问外部类的成员，包括私有
2. 外部类要访问内部类必须创建对象

    ```java
    class 类名 {
        class 内部类名 {
        }
    }

    类名.内部类名 对象名 = new 类名().new 内部类名();
    ```

3. 内部类访问类的变量 **\*特殊**

    ```java
    class 类名 {
        数据类型 变量名;
        class 内部类名 {
            类名.this.变量名;
        }
    }
    ```

4. 局部内部类（如在方法中定义的类）访问本地变量需将变量定义成 `final` 因为一般的变量随调用而产生，调用结束而消失。
5. 匿名内部类
    前提有一个类或接口，匿名内部类继承该类或实现该接口

    ```java
    new 类名或接口名() {
        重写方法;
    }.重写的方法;
    ```

    注意：这是类和接口的**子类或实现类**，所以实例化的时候用**父类的多态**
6. 一个面试题，补全程序输出 HelloWorld

    ```java
    interface Inter { void show(); }

    class Outer { }

    public class OuterDemo {
        public static void main(String[] args) {
            Outer.method().show();
        }
    }
    ```

    分析：`Outer.method().show();` 表示 `Outer` 类中 `method()` 方法返回值应该是一个带有 `show()` 方法的类，即 `Inter` 接口的实现类，想到匿名内部类。

    ```java
    new Inter() {
        public void show() {
            System.out.println("HelloWorld");
        }
    };
    // 一个匿名的 Inter 的实现类，实现 show 方法，注意接口内方法都是 public
    ```

    `Outer` 类添加 `method()` 方法，返回值为 `Inter` ， `method()` 为 `static` 否则无法直接调用

    ```java
    class Outer {
        public static Inter method() {
            return new Inter() {
                public void show() {
                    System.out.println("HelloWorld");
                }
            };
        }
    }
    ```
